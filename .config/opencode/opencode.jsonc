{
    "$schema": "https://opencode.ai/config.json",
    // see `opencode models`
    // "model": "openrouter/claude-sonnet-4-5-20250929",
    // "model": "opencode/big-pickle",
    "model": "gemini-claude-sonnet-4-5-thinking",
    // "model": "openrouter/anthropic/claude-haiku-4.5",
    "small_model": "openrouter/claude-3-5-haiku-20241022",
    "theme": "system",
    // "theme": "tokyonight",
    "share": "manual",
    "plugin": [
        "opencode-google-antigravity-auth"
    ],
    // "instructions": [
    //     "CRUSH.md"
    // ],
    "disabled_providers": [
        "alibaba",
        "amazon-bedrock",
        "github-copilot",
        "github-models",
        "openai",
        // "opencode",
        "anthropic",
        "xai"
    ],
    "permission": {
        "external_directory": "ask",
        "grep": "allow",
        "glob": "allow",
        "read": "allow",
        "webfetch": "allow",
        "bash": {
            "composer ci-*": "allow",
            "*php -l *": "allow",
            "*phpcs *": "allow",
            "*phpcs": "allow",
            "*phpspec *": "allow",
            "*phpspec": "allow",
            "*phpstan *": "allow",
            "*phpstan": "allow",
            "*phpunit *": "allow",
            "*phpunit": "allow",
            "*yarn jest": "allow",
            "ag *": "allow",
            "echo *": "allow",
            "find *": "allow",
            "git diff *": "allow",
            "git diff": "allow",
            "git show *": "allow",
            "git status": "allow",
            "grep *": "allow",
            "head *": "allow",
            "ls *": "allow",
            "ls": "allow",
            "pwd": "allow",
            "rg *": "allow",
            "sort *": "allow",
            "tail *": "allow",
            "wc *": "allow",
            "*": "ask"
        }
    },
    "provider": {
        "google": {
            "npm": "@ai-sdk/google",
            "models": {
                "gemini-3-pro-preview": {
                    "id": "gemini-3-pro-preview",
                    "name": "3 Pro",
                    "release_date": "2025-11-18",
                    "reasoning": true,
                    "limit": {
                        "context": 1000000,
                        "output": 64000
                    },
                    "cost": {
                        "input": 2,
                        "output": 12,
                        "cache_read": 0.2
                    },
                    "modalities": {
                        "input": [
                            "text",
                            "image",
                            "video",
                            "audio",
                            "pdf"
                        ],
                        "output": [
                            "text"
                        ]
                    },
                    "variants": {
                        "low": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "low",
                                    "includeThoughts": true
                                }
                            }
                        },
                        "medium": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "medium",
                                    "includeThoughts": true
                                }
                            }
                        },
                        "high": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "high",
                                    "includeThoughts": true
                                }
                            }
                        }
                    }
                },
                "gemini-3-flash": {
                    "id": "gemini-3-flash",
                    "name": "3 Flash",
                    "release_date": "2025-12-17",
                    "reasoning": true,
                    "limit": {
                        "context": 1048576,
                        "output": 65536
                    },
                    "cost": {
                        "input": 0.5,
                        "output": 3,
                        "cache_read": 0.05
                    },
                    "modalities": {
                        "input": [
                            "text",
                            "image",
                            "video",
                            "audio",
                            "pdf"
                        ],
                        "output": [
                            "text"
                        ]
                    },
                    "variants": {
                        "minimal": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "minimal",
                                    "includeThoughts": true
                                }
                            }
                        },
                        "low": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "low",
                                    "includeThoughts": true
                                }
                            }
                        },
                        "medium": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "medium",
                                    "includeThoughts": true
                                }
                            }
                        },
                        "high": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingLevel": "high",
                                    "includeThoughts": true
                                }
                            }
                        }
                    }
                },
                "gemini-2.5-flash-lite": {
                    "id": "gemini-2.5-flash-lite",
                    "name": "2.5 Flash Lite",
                    "reasoning": false
                },
                "gemini-claude-sonnet-4-5-thinking": {
                    "id": "gemini-claude-sonnet-4-5-thinking",
                    "name": "Sonnet 4.5",
                    "reasoning": true,
                    "limit": {
                        "context": 200000,
                        "output": 64000
                    },
                    "modalities": {
                        "input": [
                            "text",
                            "image",
                            "pdf"
                        ],
                        "output": [
                            "text"
                        ]
                    },
                    "variants": {
                        "none": {
                            "reasoning": false,
                            "options": {
                                "thinkingConfig": {
                                    "includeThoughts": false
                                }
                            }
                        },
                        "low": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 4000,
                                    "includeThoughts": true
                                }
                            }
                        },
                        "medium": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 16000,
                                    "includeThoughts": true
                                }
                            }
                        },
                        "high": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 32000,
                                    "includeThoughts": true
                                }
                            }
                        }
                    }
                },
                "gemini-claude-opus-4-5-thinking": {
                    "id": "gemini-claude-opus-4-5-thinking",
                    "name": "Opus 4.5",
                    "release_date": "2025-11-24",
                    "reasoning": true,
                    "limit": {
                        "context": 200000,
                        "output": 64000
                    },
                    "modalities": {
                        "input": [
                            "text",
                            "image",
                            "pdf"
                        ],
                        "output": [
                            "text"
                        ]
                    },
                    "variants": {
                        "low": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 4000,
                                    "includeThoughts": true
                                }
                            }
                        },
                        "medium": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 16000,
                                    "includeThoughts": true
                                }
                            }
                        },
                        "high": {
                            "options": {
                                "thinkingConfig": {
                                    "thinkingBudget": 32000,
                                    "includeThoughts": true
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "lsp": {
        "php": {
            "disabled": true,
            "command": [
                "{env:HOME}/.local/share/nvim/mason/bin/intelephense",
                "--stdio"
            ],
            "extensions": [
                ".php",
                ".phtml"
            ]
        },
        "scss": {
            "command": [
                "{env:HOME}/.local/share/nvim/mason/bin/some-sass-language-server",
                "--stdio"
            ],
            "extensions": [
                ".scss"
            ]
        }
    },
    "mcp": {
        "context7": {
            "type": "local",
            "enabled": true,
            "command": [
                "bunx",
                "@upstash/context7-mcp"
            ]
        },
        // https://spotlightjs.com/
        // "spotlight": {
        //     "type": "local",
        //     "enabled": false,
        //     "command": [
        //         "bunx",
        //         "@spotlightjs/spotlight",
        //         "--stdio-mcp"
        //     ]
        // },
        // TODO: REQUIRES Figma desktop app to be running.
        // @see https://github.com/sst/opencode/issues/3875
        "figma": {
            "type": "remote",
            "enabled": false,
            // "url": "https://mcp.figma.com/mcp"
            "url": "http://127.0.0.1:3845/mcp"
        },
        "memory-graph": {
            "type": "local",
            "enabled": true,
            "command": [
                "uvx",
                "--from",
                "git+https://github.com/gregorydickson/memory-graph.git",
                "memorygraph"
            ]
        },
        "sentry": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://mcp.sentry.dev/mcp"
            ]
        },
        "spotify": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "--python",
                "3.12",
                "--from",
                "git+https://github.com/varunneal/spotify-mcp",
                "spotify-mcp"
            ],
            "environment": {
                "SPOTIFY_CLIENT_ID": "{env:SPOTIFY_CLIENT_ID}",
                "SPOTIFY_CLIENT_SECRET": "{env:SPOTIFY_CLIENT_SECRET}",
                "SPOTIFY_REDIRECT_URI": "http://127.0.0.1:8039/callback"
            }
        },
        // TODO: FUCK SALESFORCE SO MUCH it is the worst. You have to first `sf org login web` which doesn't work for me.
        "salesforce": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "@salesforce/mcp",
                "--orgs",
                "saatchiart",
                "--toolsets",
                "all"
            ]
        },
        "obsidian": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "mcp-obsidian"
            ],
            "environment": {
                "OBSIDIAN_API_KEY": "{env:OBSIDIAN_API_KEY}",
                // "OBSIDIAN_HOST": "<your_obsidian_host>",
                // "OBSIDIAN_PORT": "<your_obsidian_port>"
            }
        },
        "snyk": {
            "type": "local",
            "enabled": false,
            "command": [
                "snyk",
                "mcp",
                "-t",
                "stdio"
            ]
        },
        "aws-knowledge-mcp-server": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "fastmcp",
                "run",
                "https://knowledge-mcp.global.api.aws"
            ]
        },
        "awslabs.eks-mcp-server": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "awslabs.eks-mcp-server@latest",
                // "--allow-write",
                "--allow-sensitive-data-access"
            ],
            "environment": {
                "FASTMCP_LOG_LEVEL": "ERROR",
                "AWS_PROFILE": "{env:AWS_PROFILE}"
            },
        },
        "awslabs.cloudwatch-mcp-server": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "awslabs.cloudwatch-mcp-server@latest"
            ],
            "environment": {
                "AWS_PROFILE": "{env:AWS_PROFILE}",
                "FASTMCP_LOG_LEVEL": "ERROR"
            }
        },
        "awslabs.cost-explorer-mcp-server": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "awslabs.cost-explorer-mcp-server@latest"
            ],
            "environment": {
                "FASTMCP_LOG_LEVEL": "ERROR",
                "AWS_PROFILE": "{env:AWS_PROFILE}"
            },
        },
        "apple-mcp": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "apple-mcp@latest"
            ]
        },
        "github": {
            "type": "local",
            // apparently this can add a large amount of context to each call, pushing the token limit
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://api.githubcopilot.com/mcp/",
                "--header",
                "Authorization: Bearer {env:GITHUB_TOKEN}"
            ]
        },
        "postman": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://mcp.postman.com/minimal",
                "--header",
                "Authorization: Bearer {env:POSTMAN_API_TOKEN}"
            ]
        },
        "youtube-transcript": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "--from",
                "git+https://github.com/jkawamoto/mcp-youtube-transcript",
                "mcp-youtube-transcript"
            ]
        },
        "playwright": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "@playwright/mcp@latest"
            ]
        },
        "slack": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "slack-mcp-server@latest",
                "--transport",
                "stdio"
            ],
            "environment": {
                "SLACK_MCP_XOXC_TOKEN": "{env:SLACK_MCP_XOXC_TOKEN}",
                "SLACK_MCP_XOXD_TOKEN": "{env:SLACK_MCP_XOXD_TOKEN}",
                "SLACK_MCP_USER_AGENT": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:144.0) Gecko/20100101 Firefox/144.0"
            }
        },
        "atlassian": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://mcp.atlassian.com/v1/sse"
            ],
        },
        "tree-sitter": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "mcp-server-tree-sitter"
            ]
        },
        "zen": {
            "type": "local",
            "enabled": false,
            "command": [
                "uvx",
                "--from",
                "git+https://github.com/BeehiveInnovations/zen-mcp-server.git",
                "zen-mcp-server"
            ],
            "environment": {
                "OPENROUTER_API_KEY": "{env:OPENROUTER_API_KEY}",
                "DISABLED_TOOLS": "analyze,refactor,testgen,secaudit,docgen,tracer",
                "DEFAULT_MODEL": "auto"
            }
        },
        "cloudflare-observability": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://observability.mcp.cloudflare.com/mcp"
            ]
        },
        "cloudflare-bindings": {
            "type": "local",
            "enabled": false,
            "command": [
                "bunx",
                "mcp-remote",
                "https://bindings.mcp.cloudflare.com/mcp"
            ]
        },
        // TODO: no strava mcp I tried works. Prob gonna have to generate my own.
        // "strava": {
        //     "type": "local",
        //     "enabled": true,
        //     "command": [
        //         // "uvx",
        //         // "--python",
        //         // "3.13",
        //         // "strava-activity-mcp-server"
        //         // "strava-mcp-server"
        //     ],
        //     "environment": {
        //         "STRAVA_CLIENT_ID": "{env:STRAVA_CLIENT_ID}",
        //         "STRAVA_CLIENT_SECRET": "{env:STRAVA_CLIENT_SECRET}",
        //         "STRAVA_REFRESH_TOKEN": "{env:STRAVA_REFRESH_TOKEN}"
        //     }
        // },
        // TODO: does not work because my account does not have roles/serviceusage.serviceUsageConsumer
        // "bigquery": {
        //     "type": "local",
        //     "enabled": true,
        //     "command": [
        //         "toolbox",
        //         "--prebuilt",
        //         "bigquery",
        //         "--stdio"
        //     ],
        //     "environment": {
        //         "BIGQUERY_PROJECT": "bi-saatchi-fission",
        //     }
        // },
    },
    "formatter": {
        "php_cs_fixer": {
            "command": [
                "php-cs-fixer",
                "fix",
                "$FILE"
            ],
            "extensions": [
                "php"
            ]
        },
        "rector": {
            "command": [
                "rector",
                "process",
                "$FILE"
            ],
            "extensions": [
                "php"
            ]
        },
        "phpcbf": {
            "command": [
                "phpcbf",
                "$FILE"
            ],
            "extensions": [
                "php"
            ]
        }
    }
}
